{
  "catalogs": [
    {
      "name": "postgres_rag",
      "type": "postgresql",
      "jdbc": {
        "jdbcUri": "jdbc:postgresql://postgres:5432/rag_db",
        "driverClass": "org.postgresql.Driver",
        "username": "postgres",
        "password": "postgres"
      }
    }
  ],
  "graph": {
    "vertices": [
      {
        "label": "Entity",
        "oneToOne": {
          "tableSource": {
            "catalog": "postgres_rag",
            "schema": "public",
            "table": "rag_entities"
          },
          "id": {
            "fields": [
              {
                "type": "String",
                "field": "id",
                "alias": "id"
              }
            ]
          },
          "attributes": [
            {
              "type": "String",
              "field": "tenant_id",
              "alias": "tenant_id"
            },
            {
              "type": "String",
              "field": "document_id",
              "alias": "document_id"
            },
            {
              "type": "String",
              "field": "entity_type",
              "alias": "entity_type"
            },
            {
              "type": "String",
              "field": "name",
              "alias": "name"
            },
            {
              "type": "String",
              "field": "canonical_name",
              "alias": "canonical_name"
            },
            {
              "type": "String",
              "field": "description",
              "alias": "description"
            }
          ]
        }
      },
      {
        "label": "Chunk",
        "oneToOne": {
          "tableSource": {
            "catalog": "postgres_rag",
            "schema": "public",
            "table": "rag_child_chunks"
          },
          "id": {
            "fields": [
              {
                "type": "String",
                "field": "id",
                "alias": "id"
              }
            ]
          },
          "attributes": [
            {
              "type": "String",
              "field": "parent_id",
              "alias": "parent_id"
            },
            {
              "type": "String",
              "field": "document_id",
              "alias": "document_id"
            },
            {
              "type": "String",
              "field": "tenant_id",
              "alias": "tenant_id"
            },
            {
              "type": "String",
              "field": "text",
              "alias": "text"
            },
            {
              "type": "Int",
              "field": "page",
              "alias": "page"
            },
            {
              "type": "String",
              "field": "modality",
              "alias": "modality"
            }
          ]
        }
      },
      {
        "label": "Document",
        "oneToOne": {
          "tableSource": {
            "catalog": "postgres_rag",
            "schema": "public",
            "table": "rag_documents"
          },
          "id": {
            "fields": [
              {
                "type": "String",
                "field": "id",
                "alias": "id"
              }
            ]
          },
          "attributes": [
            {
              "type": "String",
              "field": "tenant_id",
              "alias": "tenant_id"
            },
            {
              "type": "String",
              "field": "file_name",
              "alias": "file_name"
            },
            {
              "type": "String",
              "field": "collection",
              "alias": "collection"
            },
            {
              "type": "String",
              "field": "title",
              "alias": "title"
            }
          ]
        }
      }
    ],
    "edges": [
      {
        "label": "MENTIONED_IN",
        "fromVertex": "Entity",
        "toVertex": "Chunk",
        "tableSource": {
          "catalog": "postgres_rag",
          "schema": "public",
          "table": "rag_entity_mentions"
        },
        "id": {
          "fields": [
            {
              "type": "String",
              "field": "id",
              "alias": "id"
            }
          ]
        },
        "fromId": {
          "fields": [
            {
              "type": "String",
              "field": "entity_id",
              "alias": "entity_id"
            }
          ]
        },
        "toId": {
          "fields": [
            {
              "type": "String",
              "field": "child_chunk_id",
              "alias": "child_chunk_id"
            }
          ]
        },
        "attributes": [
          {
            "type": "String",
            "field": "mention_text",
            "alias": "mention_text"
          },
          {
            "type": "Float",
            "field": "confidence",
            "alias": "confidence"
          }
        ]
      },
      {
        "label": "RELATED_TO",
        "fromVertex": "Entity",
        "toVertex": "Entity",
        "tableSource": {
          "catalog": "postgres_rag",
          "schema": "public",
          "table": "rag_relations"
        },
        "id": {
          "fields": [
            {
              "type": "String",
              "field": "id",
              "alias": "id"
            }
          ]
        },
        "fromId": {
          "fields": [
            {
              "type": "String",
              "field": "subject_entity_id",
              "alias": "subject_entity_id"
            }
          ]
        },
        "toId": {
          "fields": [
            {
              "type": "String",
              "field": "object_entity_id",
              "alias": "object_entity_id"
            }
          ]
        },
        "attributes": [
          {
            "type": "String",
            "field": "relation_type",
            "alias": "relation_type"
          },
          {
            "type": "Float",
            "field": "confidence",
            "alias": "confidence"
          }
        ]
      },
      {
        "label": "FROM_DOCUMENT",
        "fromVertex": "Chunk",
        "toVertex": "Document",
        "tableSource": {
          "catalog": "postgres_rag",
          "schema": "public",
          "table": "rag_child_chunks"
        },
        "id": {
          "fields": [
            {
              "type": "String",
              "field": "id",
              "alias": "id"
            }
          ]
        },
        "fromId": {
          "fields": [
            {
              "type": "String",
              "field": "id",
              "alias": "chunk_id"
            }
          ]
        },
        "toId": {
          "fields": [
            {
              "type": "String",
              "field": "document_id",
              "alias": "document_id"
            }
          ]
        }
      }
    ]
  }
}
